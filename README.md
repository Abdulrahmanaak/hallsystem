# ูุธุงู ุฅุฏุงุฑุฉ ุงููุงุนุงุช (ููุงุณุจุงุช)

ูุธุงู ุดุงูู ููุชุนุฏุฏ ุงููุณุชุฃุฌุฑูู ูุฅุฏุงุฑุฉ ูุงุนุงุช ุงูููุงุณุจุงุชุ ูุตูู ูุชุจุณูุท ุนูููุงุช ุงูุญุฌุฒุ ูุงูุชุชุจุน ุงููุงููุ ูุฅุฏุงุฑุฉ ุงูุนููุงุก. ูุชูุงูู ูุฐุง ุงููุธุงู ุจุณูุงุณุฉ ูุน **ูููุฏ (Qoyod)** ููุฒุงููุฉ ุงูุจูุงูุงุช ุงููุญุงุณุจูุฉ.

## ุงูููุฒุงุช

### ๐ข ุงูุฅุฏุงุฑุฉ ุงูุฃุณุงุณูุฉ
- **ุฏุนู ุชุนุฏุฏ ุงููุณุชุฃุฌุฑูู (Multi-Tenant)**: ุฅุฏุงุฑุฉ ุนุฏุฉ ููุงู ูููุงุนุงุช ููุงุนุงุชูู ูุน ุถูุงู ุนุฒู ุงูุจูุงูุงุช.
- **ุฅุฏุงุฑุฉ ุงููุงุนุงุช**: ุชูููู ุงููุงุนุงุช ุจุงูุณุนุฉุ ูุงูุฃุณุนุงุฑุ ูุงููุฑุงููุ ูุชูุงุตูู ุงููููุน.
- **ุงูุชุญูู ูู ุงููุตูู ุงููุงุฆู ุนูู ุงูุฃุฏูุงุฑ (Role-Based Access Control)**:
    - `SUPER_ADMIN`: ูุตูู ูุงูู ูููุธุงู.
    - `HALL_OWNER`: ุฅุฏุงุฑุฉ ุงููุงุนุงุช ุงูุฎุงุตุฉ ูุงูููุธููู ูุงูุฅุนุฏุงุฏุงุช.
    - `ROOM_SUPERVISOR`: ุฅุฏุงุฑุฉ ุงูุญุฌูุฒุงุช ูุงูุนูููุงุช ุงูููููุฉ.
    - `ACCOUNTANT`: ุงููุตูู ุฅูู ุงูุณุฌูุงุช ุงููุงููุฉ ูุงูููุงุชูุฑ.
    - `EMPLOYEE`: ูุตูู ุชุดุบููู ุฃุณุงุณู.

### ๐ ุงูุญุฌูุฒุงุช ูุงูุนูููุงุช
- **ุฅุฏุงุฑุฉ ุงูุญุฌูุฒุงุช**: ุฅูุดุงุก ูุนุฑุถ ูุฅุฏุงุฑุฉ ุงูุญุฌูุฒุงุช (ูุนููุฉุ ูุคูุฏุฉุ ููุบุงุฉ).
- **ุชุฎุตูุต ุงูููุงุณุจุฉ**: ุชุญุฏูุฏ ููุน ุงูููุงุณุจุฉ (ุฒูุงุฌุ ุงุฌุชูุงุนุ ุฅูุฎ)ุ ุงูุชูููุชุ ุนุฏุฏ ุงูุถูููุ ูุชูุถููุงุช ุงููุฌุจุงุช.
- **ุงูุฎุฏูุงุช ูุงูุฅุถุงูุงุช**: ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช ุงูุฅุถุงููุฉ ูุซู ุงูุตุจุงุจููุ ุงูุฐุจุงุฆุญุ ููุฑุงุชูู ุงููุงุก.
- **ูุดู ุงูุชุนุงุฑุถ**: ููุน ุงูุญุฌูุฒุงุช ุงููุฒุฏูุฌุฉ ูููุณ ุงููุงุนุฉ ููุชุฑุฉ ุงูููุช.

### ๐ฐ ุงููุงููุฉ ูุงููุญุงุณุจุฉ
- **ุงูููุชุฑุฉ**: ุฅูุดุงุก ุชููุงุฆู ููููุงุชูุฑ ูุน ุญุณุงุจ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ.
- **ุชุชุจุน ุงููุฏููุนุงุช**: ุชุณุฌูู ูุฏููุนุงุช ุฌุฒุฆูุฉ ุฃู ูุงููุฉ (ููุฏูุ ุชุญูููุ ุจุทุงูุฉ).
- **ุชูุงูู ูููุฏ (Qoyod)**:
    - ูุฒุงููุฉ ุงูุนููุงุกุ ูุงูููุงุชูุฑุ ูุงููุฏููุนุงุช ุฅูู ุจุฑูุงูุฌ ูููุฏ ุงููุญุงุณุจู.
    - ุชุญุฏูุซุงุช ุงูุญุงูุฉ ูู ุงูููุช ุงููุนูู ูุชุณุฌูู ุงูุฃุฎุทุงุก ูุนูููุงุช ุงููุฒุงููุฉ.

### ๐ฅ ุฅุฏุงุฑุฉ ุนูุงูุงุช ุงูุนููุงุก (CRM)
- **ูููุงุช ุงูุนููุงุก**: ุชุฎุฒูู ุชูุงุตูู ุงูุงุชุตุงูุ ูุฃุฑูุงู ุงููููุฉุ ูุณุฌู ุงูุญุฌูุฒุงุช.
- **ูุฒุงููุฉ ูููุฏ**: ุฑุจุท ูููุงุช ุงูุนููุงุก ุจุฌูุงุช ุงูุงุชุตุงู ูู ูููุฏ.

## ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

- **ุฅุทุงุฑ ุงูุนูู**: [Next.js 15](https://nextjs.org/) (App Router)
- **ูุงุนุฏุฉ ุงูุจูุงูุงุช**: [PostgreSQL](https://www.postgresql.org/)
- **ORM**: [Prisma](https://www.prisma.io/)
- **ุงูุชูุณูู**: [Tailwind CSS](https://tailwindcss.com/)
- **ููููุงุช ุงููุงุฌูุฉ**: [Radix UI](https://www.radix-ui.com/) / [Lucide React](https://lucide.dev/)
- **ุงููุตุงุฏูุฉ**: ุงุณุชุฎุฏุงู ุฌูุณุงุช ุขููุฉ (ุชูุงุตูู ุงูุชูููุฐ ูู `src/lib/auth`).

## ุงูุจุฏุก

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

- Node.js (v18 ุฃู ุฃุนูู)
- ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL
- ููุชุงุญ Qoyod API (ููุชูุงูู ุงููุญุงุณุจู)

### ุงูุชุซุจูุช

1. **ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน (Clone):**
   ```bash
   git clone <repository-url>
   cd hallsystem
   ```

2. **ุชุซุจูุช ุงูุงุนุชูุงุฏูุงุช:**
   ```bash
   npm install
   ```

3. **ุฅุนุฏุงุฏ ุงูุจูุฆุฉ:**
   ูู ุจุฅูุดุงุก ููู `.env` ูู ุงููุฌูุฏ ุงูุฌุฐุฑ ุจูุงุกู ุนูู `.env.example`:
   ```env
   DATABASE_URL="postgresql://user:password@localhost:5432/hallsystem"
   NEXTAUTH_SECRET="your-super-secret-key"
   NEXT_PUBLIC_APP_URL="http://localhost:3000"
   ```

4. **ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   ```bash
   # ุฅูุดุงุก ุนููู Prisma
   npm run db:generate

   # ุฏูุน ุงููุฎุทุท (Schema) ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   npm run db:push
   
   # (ุงุฎุชูุงุฑู) ุชุนุจุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุจูุงูุงุช ุฃูููุฉ
   npm run prisma:seed
   ```

5. **ุชุดุบูู ุฎุงุฏู ุงูุชุทููุฑ:**
   ```bash
   npm run dev
   ```
   ูููู ุงููุตูู ุฅูู ุงูุชุทุจูู ุนุจุฑ `http://localhost:3000`.

## ุงููุตูุต ุงูุจุฑูุฌูุฉ (Scripts)

- `npm run dev`: ุชุดุบูู ุฎุงุฏู ุงูุชุทููุฑ.
- `npm run build`: ุงูุจูุงุก ููุฅูุชุงุฌ.
- `npm run start`: ุชุดุบูู ุฎุงุฏู ุงูุฅูุชุงุฌ.
- `npm run db:generate`: ุฅูุดุงุก ุนููู Prisma.
- `npm run db:push`: ุฏูุน ูุฎุทุท Prisma ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.
- `npm run db:studio`: ูุชุญ Prisma Studio ูุฅุฏุงุฑุฉ ุงูุจูุงูุงุช ุจุตุฑูุงู.

## ูููู ุงููุฌูุฏุงุช

- `src/app`: ุตูุญุงุช Next.js App Router ููุณุงุฑุงุช API.
- `src/components`: ููููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู.
- `src/lib`: ุฏูุงู ูุณุงุนุฏุฉุ ุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุชูุงูู ุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ.
- `prisma`: ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุตูุต ุงูุฅุนุฏุงุฏ (Seeds).

## ุงูุชุฑุฎูุต

ููููุฉ ุฎุงุตุฉ. ุฌููุน ุงูุญููู ูุญููุธุฉ.

---

# Hall Management System (Munaosabat)

A comprehensive, multi-tenant Hall Management System designed to streamline booking operations, financial tracking, and customer management for event halls. This system integrates seamlessly with **Qoyod** for accounting synchronization.

## Features

### ๐ข Core Management
- **Multi-Tenant Support**: Manage multiple hall owners and their respective halls with data isolation.
- **Hall Management**: Configure halls with capacity, pricing, amenities, and location details.
- **Role-Based Access Control**:
    - `SUPER_ADMIN`: Full system access.
    - `HALL_OWNER`: Manage own halls, staff, and settings.
    - `ROOM_SUPERVISOR`: Manage day-to-day bookings and operations.
    - `ACCOUNTANT`: Access to financial records and invoices.
    - `EMPLOYEE`: Basic operational access.

### ๐ Bookings & Operations
- **Booking Management**: Create, view, and manage bookings (Pending, Confirmed, Cancelled).
- **Event Customization**: Specify event type (Wedding, Meeting, etc.), timing, guest count, and meal preferences.
- **Services & Add-ons**: Manage additional services like coffee servers, sacrifices, and water cartons.
- **Conflict Detection**: Prevent double bookings for the same hall and time slot.

### ๐ฐ Finance & Accounting
- **Invoicing**: Automatic invoice generation with VAT calculation.
- **Payment Tracking**: Record partial or full payments (Cash, Transfer, Card).
- **Qoyod Integration**:
    - Sync Customers, Invoices, and Payments to Qoyod Accounting Software.
    - Real-time status updates and error logging for sync operations.

### ๐ฅ Customer CRM
- **Customer Profiles**: Store contact details, ID numbers, and booking history.
- **Qoyod Sync**: Link customer profiles to Qoyod contacts.

## Tech Stack

- **Framework**: [Next.js 15](https://nextjs.org/) (App Router)
- **Database**: [PostgreSQL](https://www.postgresql.org/)
- **ORM**: [Prisma](https://www.prisma.io/)
- **Styling**: [Tailwind CSS](https://tailwindcss.com/)
- **UI Components**: [Radix UI](https://www.radix-ui.com/) / [Lucide React](https://lucide.dev/)
- **Authentication**: Usage of secure sessions (implementation details in `src/lib/auth`).

## Getting Started

### Prerequisites

- Node.js (v18 or higher)
- PostgreSQL Database
- Qoyod API Key (for accounting integration)

### Installation

1. **Clone the repository:**
   ```bash
   git clone <repository-url>
   cd hallsystem
   ```

2. **Install dependencies:**
   ```bash
   npm install
   ```

3. **Environment Setup:**
   Create a `.env` file in the root directory based on `.env.example`:
   ```env
   DATABASE_URL="postgresql://user:password@localhost:5432/hallsystem"
   NEXTAUTH_SECRET="your-super-secret-key"
   NEXT_PUBLIC_APP_URL="http://localhost:3000"
   ```

4. **Database Setup:**
   ```bash
   # Generate Prisma client
   npm run db:generate

   # Push schema to database
   npm run db:push
   
   # (Optional) Seed the database with initial data
   npm run prisma:seed
   ```

5. **Run Development Server:**
   ```bash
   npm run dev
   ```
   Access the app at `http://localhost:3000`.

## Scripts

- `npm run dev`: Start development server.
- `npm run build`: Build for production.
- `npm run start`: Start production server.
- `npm run db:generate`: Generate Prisma Client.
- `npm run db:push`: Push Prisma schema to database.
- `npm run db:studio`: Open Prisma Studio to manage data visually.

## Folder Structure

- `src/app`: Next.js App Router pages and API routes.
- `src/components`: Reusable UI components.
- `src/lib`: Utility functions, DB connection, and external service integrations.
- `prisma`: Database schema and seed scripts.

## License

Private Property. All rights reserved.
